@using System.Text.Json;
@using Todoist.BusinessLogic.DTOs.Board;
@using Todoist.Controllers;

@model IEnumerable<BoardDTO>

<div class="boards d-flex justify-content-center flex-column mt-5 mx-auto" style="width: 400px;">
    <h3 class="fw-bold">Boards</h3>
    <div class="boards__content">
        @foreach (var board in Model)
        {
            @await Html.PartialAsync("_BoardItemPartial", board)
        }
    </div>
    <div class="bg-light p-2 d-flex">
        <input class="form-control create-input me-1" type="text" placeholder="Board name" />
        <div class="btn btn-primary w-100 create-btn">Create new board</div>
    </div>
    <div class="create-error"></div>
</div>

@section Scripts {
    <script type="module">
        import init from "/js/senders/board.js";

        @{
            string controllerName = "Board";
        }

        init({
            createLink: "@Url.ActionLink(nameof(BoardController.Create), controllerName)",
            removeLink: "@Url.ActionLink(nameof(BoardController.Remove), controllerName)"
        });
    </script>
}